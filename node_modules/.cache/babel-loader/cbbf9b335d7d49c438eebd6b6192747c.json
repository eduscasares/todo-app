{"ast":null,"code":"import React,{useState}from'react';import PropTypes from'prop-types';// Importing MODELS \nimport{Task}from'../../../models/taskModel.class';import{LEVELS}from'../../../models/levels.enum';// Importing Formik and Yup\nimport{Formik,Form,Field,ErrorMessage}from'formik';import*as Yup from'yup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TaskForm=function TaskForm(_ref){var add=_ref.add,length=_ref.length,visibility=_ref.visibility,handleClose=_ref.handleClose;// Setting Form initial values\nvar initialValues={name:'',description:'',level:LEVELS.NORMAL,completed:false};// Setting Form validation\nvar addTaskSchema=Yup.object().shape({name:Yup.string().required('This field is required, please fill it'),description:Yup.string().required('This field is required, please fill it'),level:Yup.string().oneOf([LEVELS.NORMAL,LEVELS.URGENT,LEVELS.BLOCKING])});// Functionality to add task\nfunction addTask(tasks){var newTask=tasks;add(newTask);handleClose();}return/*#__PURE__*/_jsx(\"div\",{className:visibility===true?'form-container':'form-container hidden',children:/*#__PURE__*/_jsxs(\"div\",{className:\"task-form\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x-circle-fill\",onClick:handleClose}),/*#__PURE__*/_jsx(\"h4\",{children:\"Add a new task\"}),/*#__PURE__*/_jsx(Formik,{initialValues:initialValues,validationSchema:addTaskSchema,onSubmit:function onSubmit(values,actions){addTask(values);actions.resetForm({});actions.setSubmitting(false);},children:function children(_ref2){var errors=_ref2.errors,touched=_ref2.touched,isSubmitting=_ref2.isSubmitting;return/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(Field,{type:\"text\",id:\"name\",name:\"name\",placeholder:\"Add a task name\"}),errors.name&&touched.name&&/*#__PURE__*/_jsx(ErrorMessage,{name:\"name\",component:\"div\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(Field,{type:\"text\",id:\"description\",name:\"description\",placeholder:\"Add a task description\"}),errors.description&&touched.description&&/*#__PURE__*/_jsx(ErrorMessage,{name:\"description\",component:\"div\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"level\",children:\"Priority\"}),/*#__PURE__*/_jsxs(Field,{as:\"select\",id:\"level\",name:\"level\",children:[/*#__PURE__*/_jsx(\"option\",{value:LEVELS.NORMAL,children:\"Normal\"}),/*#__PURE__*/_jsx(\"option\",{value:LEVELS.URGENT,children:\"Urgent\"}),/*#__PURE__*/_jsx(\"option\",{value:LEVELS.BLOCKING,children:\"Blocking\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"contained-button\",children:length===0?'Create your first task':'Add a new task'}),isSubmitting?/*#__PURE__*/_jsx(\"p\",{children:\"Be patient, we're adding your task\"}):null]});}})]})});};TaskForm.ProtoTypes={tasks:PropTypes.instanceOf(Task),add:PropTypes.func.isRequired,length:PropTypes.number.isRequired};export default TaskForm;","map":{"version":3,"names":["React","useState","PropTypes","Task","LEVELS","Formik","Form","Field","ErrorMessage","Yup","TaskForm","add","length","visibility","handleClose","initialValues","name","description","level","NORMAL","completed","addTaskSchema","object","shape","string","required","oneOf","URGENT","BLOCKING","addTask","tasks","newTask","values","actions","resetForm","setSubmitting","errors","touched","isSubmitting","ProtoTypes","instanceOf","func","isRequired","number"],"sources":["/Users/eduardosanchez/Projects/open-bootcamp/ReactJS/todo-app/src/components/pure/forms/TaskForm.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\n// Importing MODELS \nimport { Task } from '../../../models/taskModel.class';\nimport { LEVELS } from '../../../models/levels.enum';\n\n// Importing Formik and Yup\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\n\n\nconst TaskForm = ({ add, length, visibility, handleClose }) => {\n\n    // Setting Form initial values\n    const initialValues = {\n        name: '',\n        description: '',\n        level: LEVELS.NORMAL,\n        completed: false\n    }\n\n    // Setting Form validation\n    const addTaskSchema = Yup.object().shape(\n        {\n            name: Yup.string()\n                .required('This field is required, please fill it'),\n            description: Yup.string()\n                .required('This field is required, please fill it'),\n            level: Yup.string().oneOf(\n                [LEVELS.NORMAL, LEVELS.URGENT, LEVELS.BLOCKING]\n            ),\n        }\n    )\n\n    // Functionality to add task\n\n    function addTask(tasks) {\n        const newTask = tasks;\n        add(newTask);\n        handleClose();\n    }\n\n    \n    return (\n        <div className={ visibility === true ? 'form-container' : 'form-container hidden'}>\n            <div className='task-form'>\n                <i className=\"bi bi-x-circle-fill\" onClick={ handleClose }></i>\n                <h4>Add a new task</h4>\n\n                <Formik\n                    initialValues = { initialValues }\n                    validationSchema = { addTaskSchema }\n                    onSubmit = { (values, actions) => {\n                        addTask(values);\n                        actions.resetForm({});\n                        actions.setSubmitting(false);\n                    } }\n                >\n\n                    {({ errors,\n                        touched, \n                        isSubmitting }) => (\n\n                            <Form>\n\n                                <label htmlFor=\"name\">Name</label>\n                                <Field type=\"text\" id=\"name\" name=\"name\" placeholder=\"Add a task name\"></Field>\n                                {/* Setting Field Errors */}\n                                    {\n\n                                        errors.name && touched.name &&\n                                        (\n                                            <ErrorMessage name=\"name\" component=\"div\" />\n                                        )\n\n                                    }\n\n                                <label htmlFor=\"description\">Description</label>\n                                <Field type=\"text\" id=\"description\" name=\"description\" placeholder=\"Add a task description\"></Field>\n                                {/* Setting Field Errors */}\n                                    {\n\n                                        errors.description && touched.description &&\n                                        (\n                                            <ErrorMessage name='description' component='div'></ErrorMessage>\n                                        )\n\n                                    }\n\n                                <label htmlFor=\"level\">Priority</label>\n                                <Field as='select' id=\"level\" name=\"level\">\n                                    <option value={ LEVELS.NORMAL }>Normal</option>\n                                    <option value={ LEVELS.URGENT }>Urgent</option>\n                                    <option value={ LEVELS.BLOCKING }>Blocking</option>\n                                </Field>\n\n                                <button type=\"submit\" className='contained-button'>\n                                    { length === 0 ? 'Create your first task' : 'Add a new task'}\n                                </button>\n\n                                { isSubmitting ? (<p>Be patient, we're adding your task</p>) : null }\n\n                            </Form>\n\n                        )\n                    }\n\n\n                </Formik>\n            </div>\n        </div>\n    );\n}\n\nTaskForm.ProtoTypes = {\n    tasks: PropTypes.instanceOf(Task),\n    add: PropTypes.func.isRequired,\n    length: PropTypes.number.isRequired,\n}\n\nexport default TaskForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}